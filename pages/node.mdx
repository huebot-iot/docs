# Introduction

import { Callout } from 'nextra/components'

A "node" in the context of the Huebot environment refers to a MCU (microcontroller unit) setup as an MQTT client. 

We only have documentation and [custom MicroPython builds](https://github.com/huebot-iot/node/releases/tag/0.1.1) for the devices [listed below](/node#getting-started) so far. However, any MCU that's listed under [MicroPython's downloads](https://micropython.org/download/) section and equipped with WiFi capabilities will also work with the Huebot framework. 

<Callout emoji="🙏">
    We encourage testing other MCUs and providing feedback or contributing to documentation!
</Callout>

## Supplies

While not required, Huebot encourages setting up your node following the board-specific base schematic (see the [ESP32 diagram](/node/esp32#base-schematic) for an example). By doing this, you'll have a multicolor LED that can easily indicate connectivity or activity status.

In addition to the MCU, below are the supplies you'll need for base wiring. We've linked to Amazon for simplicity but please feel free to procure from anywhere!

- [Breadboard](https://www.amazon.com/Pcs-MCIGICM-Points-Solderless-Breadboard/dp/B07PCJP9DY/ref=sr_1_4?crid=2198DX37ZIMM5&keywords=breadboard&qid=1685540187&sprefix=breadboard+%2Caps%2C193&sr=8-4)
- [Jumper wires](https://www.amazon.com/AUSTOR-Lengths-Assorted-Preformed-Breadboard/dp/B07CJYSL2T/ref=sr_1_4?keywords=breadboard+jumper+wires&qid=1685540223&sprefix=breadboard+jumpe%2Caps%2C149&sr=8-4)
- [RGB multicolor LED](https://www.amazon.com/Tricolor-Multicolor-Lighting-Electronics-Components/dp/B01C19ENFK/ref=sr_1_1_sspa?crid=1VRXY3B140ITQ&keywords=multicolor%2Bled&qid=1685539952&sprefix=multicolor%2Bled%2Caps%2C221&sr=8-1-spons&smid=A14FP9XIRL6C1F&spLa=ZW5jcnlwdGVkUXVhbGlmaWVyPUExVU5CTFdQRlhSQ0o3JmVuY3J5cHRlZElkPUEwODIxODEyMTFET1ZUREMwU1dCMSZlbmNyeXB0ZWRBZElkPUEwMTEyNzY4MVdCOVI0VjdUVE4wWiZ3aWRnZXROYW1lPXNwX2F0ZiZhY3Rpb249Y2xpY2tSZWRpcmVjdCZkb05vdExvZ0NsaWNrPXRydWU&th=1)
- [~500 ohm resistors](https://www.amazon.com/EDGELEC-Resistor-Tolerance-Multiple-Resistance/dp/B07QK8VRZX/ref=sxin_16_ac_d_bv?ac_md=0-0-QnVkZ2V0IFBpY2s%3D-ac_d_bv_bv_bv&content-id=amzn1.sym.8f2bf95d-b9c2-4e6d-96a9-5fdf77a1951d%3Aamzn1.sym.8f2bf95d-b9c2-4e6d-96a9-5fdf77a1951d&cv_ct_cx=500+ohm+resistor&keywords=500+ohm+resistor&pd_rd_i=B07QK8VRZX&pd_rd_r=92d5e2d7-de0b-4ca4-b96f-f3f1aa74d18c&pd_rd_w=Dk8KR&pd_rd_wg=8TvPz&pf_rd_p=8f2bf95d-b9c2-4e6d-96a9-5fdf77a1951d&pf_rd_r=VMBTMBHK42Y9FFC2GY7M&qid=1685540398&sbo=RZvfv%2F%2FHxDF%2BO5021pAnSA%3D%3D&sprefix=500ohm+res%2Caps%2C243&sr=1-1-270ce31b-afa8-499f-878b-3bb461a9a5a6)

## MCU Specific Setup

* [ESP32](/node/esp32)

## Required Files
Regardless of board type, you'll need to create the following files in your project. These dictate connectivity and the unique functionality of your project!

### config.json
```json filename="config.json"
{
  "client_id": "", // Unique ID identifying device
  "server": "", // Huebot hub IP address or name (if DNS is configured)
  "ssid": "", // WiFi network name (must be on same network as hub)
  "wifi_pw": "", // WiFI network password
  "port": null, // MQTT broker port on hub (default: 1883)
  "user": "", // MQTT broker username
  "password": "", // MQTT broker password
  "keepalive": null, // Per mqtt_as docs: 'Period (secs) before broker regards client as having died' (default: 10)
  "ping_interval": null, // Per mqtt_as docs: 'Period (secs) between broker pings' (default: 5)
  "response_time": null, // Per mqtt_as docs: 'Time in which server is expected to respond' (default: 10)
  "max_repubs": null // Per mqtt_as docs: 'Maximum no. of republications before reconnection is attempted' (default: 4)
}
```

### client.py
```py filename="client.py"
from node import NodeCore

class NodeClient(NodeCore):
    # your code here!
```

#### Properties

- **client** [[MQTTClient class](https://github.com/peterhinch/micropython-mqtt/blob/master/mqtt_as/README.md#3-mqttclient-class)] access to MQTT client methods (notably `client.publish`).
- **config** Access to settings in `config.json`. Mostly used to reference `client_id`.

#### Event Callbacks
- **connected_cb** Asynchronous. Called when connection to broker is estbalished. Recieves the `client` instance as an argument.
- **disconnected_cb** Called when connection to broker is lost.
- **subscribe_cb** Called when a message is received that matches topic subscription. Receives arguments `topic`, `message`, and `retained`.